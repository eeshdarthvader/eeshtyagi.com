import React from 'react'
import PropTypes from 'prop-types'
import { StaticQuery, graphql } from 'gatsby'
import Popup from 'reactjs-popup'
import BurgerIcon from './burgerIcon'
import Header from './header'
import './layout.css'

const contentStyle = {
  background: 'rgba(255,255,255,0)',
  width: '80%',
  border: 'none',
}

const Layout = ({ children }) => (
  <StaticQuery
    query={graphql`
      query SiteTitleQuery {
        site {
          siteMetadata {
            title
          }
        }
      }
    `}
    render={data => (
      <>
        <Header siteTitle="" />
        <div className="layoutContainer">{children}</div>
        <Popup
          modal
          overlayStyle={{ background: 'rgba(255,255,255,0.98' }}
          contentStyle={contentStyle}
          closeOnDocumentClick={false}
          trigger={open => <BurgerIcon open={open} />}
        >
          <div className="">
            <ul className="menu">
              <li>
                <a
                  className="c-grey mr-3 f-20"
                  href="https://twitter.com/EtEesh"
                >
                  Twitter
                </a>
              </li>
              <li>
                <a
                  className="c-grey mr-3 f-20"
                  href="https://www.linkedin.com/in/eesh-tyagi-4905a824/"
                >
                  Linkedin
                </a>
              </li>
              <li>
                <a
                  className="c-grey mr-3 f-20"
                  href="https://github.com/eeshdarthvader"
                >
                  Github
                </a>
              </li>
              <li>
                <a
                  className="c-grey mr-3 f-20"
                  href="mailto:eesh.tyagi@gmail.com"
                >
                  Email
                </a>
              </li>
              <li>
                <a className="c-grey mr-3 f-20" href="#">
                  Resume
                </a>
              </li>
            </ul>
          </div>
        </Popup>

        <footer className="footer">
          <div className="container">
            <div className="footer-items-wrapper">
              <div className="footer-items">
                <span className="right">You can find me on</span>
                <div className="icons">
                  <a
                    className="icon-item"
                    href="https://twitter.com/EtEesh"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path
                        d="M23.9302 4.63604C23.0511 5.02674 22.1023 5.29186 21.1116 5.40348C22.1302 4.78953 22.8976 3.84069 23.2744 2.68255C22.3255 3.24069 21.279 3.6593 20.1628 3.8686C19.2697 2.91976 17.986 2.31976 16.5767 2.31976C13.8697 2.31976 11.6651 4.52441 11.6651 7.23139C11.6651 7.62209 11.7069 7.98488 11.7907 8.34767C7.71624 8.13837 4.08833 6.18488 1.67438 3.21279C1.25578 3.93837 1.00461 4.77558 1.00461 5.68255C1.00461 7.38488 1.86973 8.89186 3.19531 9.77093C2.38601 9.74302 1.63252 9.51976 0.976707 9.15697V9.21279C0.976707 11.5849 2.66508 13.5802 4.91159 14.0267C4.49299 14.1384 4.06043 14.1942 3.61392 14.1942C3.29299 14.1942 2.98601 14.1663 2.69299 14.1105C3.32089 16.064 5.13485 17.4872 7.28368 17.5151C5.60927 18.8267 3.48833 19.6221 1.18601 19.6221C0.795311 19.6221 0.404614 19.5942 0.013916 19.5523C2.19066 20.9477 4.77206 21.757 7.53485 21.757C16.5628 21.757 21.5023 14.2779 21.5023 7.78953C21.5023 7.58023 21.5023 7.37093 21.4883 7.14767C22.4372 6.49186 23.2744 5.62674 23.9302 4.63604Z"
                        fill="white"
                      />
                    </svg>
                  </a>
                  <a
                    className="icon-item"
                    href="https://github.com/eeshdarthvader/"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <g clip-path="url(#clip0)">
                        <path
                          d="M7.77656 18.6285C7.77656 18.7222 7.66875 18.7972 7.53281 18.7972C7.37812 18.8113 7.27031 18.7363 7.27031 18.6285C7.27031 18.5347 7.37813 18.4597 7.51406 18.4597C7.65469 18.4457 7.77656 18.5207 7.77656 18.6285ZM6.31875 18.4176C6.28594 18.5113 6.37969 18.6191 6.52031 18.6472C6.64219 18.6941 6.78281 18.6472 6.81094 18.5535C6.83906 18.4597 6.75 18.3519 6.60938 18.3097C6.4875 18.2769 6.35156 18.3238 6.31875 18.4176ZM8.39062 18.3379C8.25469 18.3707 8.16094 18.4597 8.175 18.5676C8.18906 18.6613 8.31094 18.7222 8.45156 18.6894C8.5875 18.6566 8.68125 18.5676 8.66719 18.4738C8.65312 18.3847 8.52656 18.3238 8.39062 18.3379ZM11.475 0.375366C4.97344 0.375366 0 5.3113 0 11.8129C0 17.0113 3.27188 21.4597 7.94531 23.0254C8.54531 23.1332 8.75625 22.7629 8.75625 22.4582C8.75625 22.1676 8.74219 20.5644 8.74219 19.5801C8.74219 19.5801 5.46094 20.2832 4.77188 18.1832C4.77188 18.1832 4.2375 16.8191 3.46875 16.4676C3.46875 16.4676 2.39531 15.7316 3.54375 15.7457C3.54375 15.7457 4.71094 15.8394 5.35312 16.9551C6.37969 18.7644 8.1 18.2441 8.77031 17.9347C8.87813 17.1847 9.18281 16.6644 9.52031 16.3551C6.9 16.0644 4.25625 15.6847 4.25625 11.1754C4.25625 9.8863 4.6125 9.23943 5.3625 8.41443C5.24062 8.10974 4.84219 6.85349 5.48438 5.23162C6.46406 4.92693 8.71875 6.49724 8.71875 6.49724C9.65625 6.23474 10.6641 6.0988 11.6625 6.0988C12.6609 6.0988 13.6688 6.23474 14.6063 6.49724C14.6063 6.49724 16.8609 4.92224 17.8406 5.23162C18.4828 6.85818 18.0844 8.10974 17.9625 8.41443C18.7125 9.24412 19.1719 9.89099 19.1719 11.1754C19.1719 15.6988 16.4109 16.0597 13.7906 16.3551C14.2219 16.7254 14.5875 17.4285 14.5875 18.5301C14.5875 20.1097 14.5734 22.0644 14.5734 22.4488C14.5734 22.7535 14.7891 23.1238 15.3844 23.016C20.0719 21.4597 23.25 17.0113 23.25 11.8129C23.25 5.3113 17.9766 0.375366 11.475 0.375366ZM4.55625 16.5426C4.49531 16.5894 4.50938 16.6972 4.58906 16.7863C4.66406 16.8613 4.77187 16.8941 4.83281 16.8332C4.89375 16.7863 4.87969 16.6785 4.8 16.5894C4.725 16.5144 4.61719 16.4816 4.55625 16.5426ZM4.05 16.1629C4.01719 16.2238 4.06406 16.2988 4.15781 16.3457C4.23281 16.3926 4.32656 16.3785 4.35938 16.3129C4.39219 16.2519 4.34531 16.1769 4.25156 16.1301C4.15781 16.1019 4.08281 16.116 4.05 16.1629ZM5.56875 17.8316C5.49375 17.8926 5.52187 18.0332 5.62969 18.1222C5.7375 18.2301 5.87344 18.2441 5.93437 18.1691C5.99531 18.1082 5.96719 17.9676 5.87344 17.8785C5.77031 17.7707 5.62969 17.7566 5.56875 17.8316ZM5.03438 17.1426C4.95937 17.1894 4.95937 17.3113 5.03438 17.4191C5.10938 17.5269 5.23594 17.5738 5.29688 17.5269C5.37187 17.466 5.37187 17.3441 5.29688 17.2363C5.23125 17.1285 5.10938 17.0816 5.03438 17.1426Z"
                          fill="white"
                        />
                      </g>
                      <defs>
                        <clipPath id="clip0">
                          <rect width="23.25" height="24" fill="white" />
                        </clipPath>
                      </defs>
                    </svg>
                  </a>
                  <a
                    className="icon-item"
                    href="https://www.linkedin.com/in/👨‍💻-eesh-tyagi-4905a824"
                    target="_blank"
                    rel="noopener noreferrer"
                  >
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                      <path
                        d="M22.2223 0H1.7715C0.793687 0 0 0.775125 0 1.72913V22.2682C0 23.2239 0.793875 24 1.7715 24H22.2223C23.2011 24 24 23.2239 24 22.2682V1.72913C24 0.775125 23.2011 0 22.2223 0V0ZM7.11788 20.4514H3.55669V8.99831H7.11788V20.4514ZM5.33756 7.43231C4.19644 7.43231 3.27413 6.50738 3.27413 5.36756C3.27413 4.22906 4.19644 3.30412 5.33756 3.30412C6.4755 3.30412 7.40044 4.22906 7.40044 5.36756C7.40044 6.50738 6.4755 7.43231 5.33756 7.43231ZM20.4501 20.4514H16.8945V14.8819C16.8945 13.5529 16.8684 11.8446 15.0443 11.8446C13.1917 11.8446 12.9092 13.2917 12.9092 14.7855V20.4514H9.35063V8.99831H12.7656V10.5626H12.8141C13.2894 9.66244 14.4508 8.71275 16.1826 8.71275C19.7846 8.71275 20.4499 11.0842 20.4499 14.1694V20.4516L20.4501 20.4514Z"
                        fill="white"
                      />
                    </svg>
                  </a>
                </div>
              </div>
            </div>
            <div className="row">
              <div className="col-12">
                <p className="copyright copyright-text center">
                  Designed and developed by Eesh
                </p>
              </div>
            </div>
          </div>
        </footer>
      </>
    )}
  />
)

Layout.propTypes = {
  children: PropTypes.node.isRequired,
}

export default Layout
